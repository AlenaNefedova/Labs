:imagesdir: Images
:figure-caption: Рисунок
:table-caption: Таблица
:toc:
:toc-title: ОГЛАВЛЕНИЕ:
== Class Led

=== 1. Структура программы в StarUML


* Архитектура класса Led показана на рисунке 1.


.Структура программы в StarUML
image::1.png[]

=== 2. Реализация класса

Код файла *led.h*:
[source,c]
----
#pragma once
#include "gpioaregisters.hpp" //for GPIOA
#include "gpiocregisters.hpp" //for GPIOC

class Led
{
 public:
 void toggle(uint32_t count);
};
----

Код файла *led.cpp*:
[source,c]
----
#include "led.h" //for Led

void Led::toggle(uint32_t count)
{
  //Тушим светодиоды
  GPIOA::ODR::ODR5::Low::Set();
  GPIOC::ODR::ODR5::Low::Set();
  GPIOC::ODR::ODR8::Low::Set();
  GPIOC::ODR::ODR9::Low::Set();

  if(count == 4)
  {
   GPIOA::ODR::Toggle(1U << 5U);
  }
  if(count >= 3)
  {
   GPIOC::ODR::Toggle(1U << 9U);
  }
  if(count >= 2)
  {
   GPIOC::ODR::Toggle(1U << 8U);
  }
  if(count >= 1)
  {
   GPIOC::ODR::Toggle(1U << 5U);
  }
}
----
